<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="../js/jquery-3.6.0.min.js"></script>
<style>
	.highlight_0{background: red;}
	.highlight_1{background: orange;}
	.highlight_2{background: yellow;}
	.highlight_3{background: green;}
	.highlight_4{background: blue;}
	
	#nemo{width: 100px; height: 100px; background: orange;}
</style>
</head>
<body>
 	<h1>객체 조작</h1>
 	<h2>기본 설정</h2>
 	<h3>each()</h3>
 	<p>
 		배열을 관리하는 for in문과 비슷한 메소드로 객체나 배열의 요소 검사<br>
 		<br>
 		<b>$.each(object, function(index, item){});</b>
 		<b>$(선택자).each(function(index, item){});</b>
 		index : 배열의 인덱스 또는 객체의 키<br>
 		item : 해당 인덱스나 키가 가진 값
 	</p>
 	<div id="urlDiv"></div>
 	<script>
 			var arr = [{name:'네이버', link:'http://www.naver.com'},
 						{name:'구글', link:'http://www.google.com'},
 						{name:'w3c', link:'http://www.w3c.con'},
 						{name:'w3school', link:'http://www.w3schools.com'}]; // 객체 배열
 			
 			$(function(){
 				var output = "";
 				$.each(arr, function(index, item){
 					console.log(index); // 배열의 인덱스
 					console.log(item); // 인덱스에 해당하는 값
 					
 					output += "<h4><a href='" + item.link + "'>" + item.name + "</a></h4>";
 				});
 				
 				$('#urlDiv').html(output);
 			 // $('#urlDiv').text(output);
 				
 			});
 	</script>
 	
 	<div id="itemDiv">
 		 <h4>item-0</h4>
 		 <h4>item-1</h4>
 		 <h4>item-2</h4>
 		 <h4>item-3</h4>
 		 <h4>item-4</h4>
 	</div>
 	<script>
 		$(function(){
 			$('#itemDiv').children().each(function(index, item){
 			console.log(index);
 			console.log(item);
 			$(this).addClass('highlight_' + index);
 			// addClass() : 선택된 요소에 클래스 추가하는 메소드
 			});
 		});
 	</script>
 	
 	
 	<h3>noConflict()</h3>
 	<p>
 		많은 자바스크립트 라이브러리가 $를 함수, 변수로 사용하고 있기 때문에 jQuery라이브러리와 충돌하는 경우가 있음
 		이를 방지하기 위해 noConflict메소드를 통해 새로운 alias를 부여<br>
 		또, 다른 버전의 jQuery와 $충돌 방지를 위해 사용
 	</p>
 	<script>
 		//var egg = $.noConflict();
 		
 	//	$(function(){
 			//$('h1').css('color','red');
 	//	});
 		
 		
 	//	egg(function(){
 			//egg('h1').css('color','red');
 	//	});
 	</script>
 	
 	<div id="cloneDiv"></div>
	<script>
		$(function(){
			console.log('복사?');
			console.log($('#urlDiv').clone());
	//		$('#urlDiv').clone().appendTo(#cloneDiv);
			$('#cloneDiv').append($('#urlDiv').clone());
		});
	</script>
	

 	<h2>객체 생성 및 제거</h2>
 	<h3>요소 추가</h3>
 	<ul id="names">
		<li id="nam">남나눔</li>
		<li id="ryu">류라라</li>
		<li id="mun">문미미</li>
		<li id="song">송성실</li>
	</ul>
	<button onclick="addElement();">요소추가</button>
	<script>
		function addElement(){
		//	$('#names').append("<li id='yoon'>윤예의</li>");
		//	$('<li id="yoon">윤예의</li>').appendTo('#names'); // 기능은 같지만 위치만 다름
		
		//   $('#names').prepend('<li id="kang">강건강</li>');// 맨 앞에 요소 추가
		//	 $('<li id="kang">강건강</li>').prependTo('#names');
		
		//	 $('#song').before('<li id="park">박보배</li>'); // 해당 요소 앞에 추가
		//	 $('<li id="park">박보배</li>').insertBefore('#song');
			 
		//	 $('#nam').after('<li id="do">도대담</li>'); // 해당 요소 뒤에 추가
			 $('<li id = "do">도대담</li>').insertAfter('#nam');
			
		} 
	</script>
	
	<h3>요소삭제</h3>
	<div id="colorDiv" class="colorDiv">
		<ul id="colorUl">
			<li>pink</li>
			<li>skyblue</li>
			<li>yellow</li>
			<li>yellowgreen</li>
		</ul>
		</div>
		<button onclick="return1();">되돌리기1</button>
		
		<div id="colorDiv2" class="colorDiv">
		<ul id="colorUl2">
			<li>pink</li>
			<li>skyblue</li>
			<li>yellow</li>
			<li>yellowgreen</li>
		</ul>
		</div>
		<button onclick="return2();">되돌리기2</button>
		
		<div id="colorDiv3" class="colorDiv">
		<ul id="colorUl3">
			<li>pink</li>
			<li>skyblue</li>
			<li>yellow</li>
			<li>yellowgreen</li>
		</ul>
		</div>
		<button onclick="return3();">되돌리기3</button>
		
	<script>
		var removeVal;
		var detachVal;
		var emptyVal;
		
		$(function(){
			// 각 li에 마우스를 올리면 글자는 하얗게, 배경은 내용대로
			// li에 마우스가 벗어나면 배경은 하얗게, 글자는 까맣게
		//	$('#colorUl').children('li').mouseenter(function(){
		//		var color = $(this).text();
		//		$(this).css({'background':color, 'color':'white'});
		//	}).mouseout(function(){
				$(this).css({'background':'white', 'color':'black'});	
		//	});
		//	$('#colorUl2').children('li').mouseenter(function(){
		//		var color = $(this).text();
		///		$(this).css({'background':color, 'color':'white'});
		//	}).mouseout(function(){
		//		$(this).css({'background':'white', 'color':'black'});	
		//	});
			$('.colorDiv').find('li').mouseenter(function(){
				var color = $(this).text();
				$(this).css({'background':color, 'color':'white'});
			}).mouseout(function(){
				$(this).css({'background':'white', 'color':'black'});	
			});	
			
			removeVal = $('#colorUl').remove();
			detachVal = $('#colorUl2').detach();
			emptyVal = $('#colorUl3').empty();
			
			console.log(removeVal);
			console.log(detachVal);
			console.log(emptyVal);
			// 해당 요소 지운 후 지운 요소 반환
			
		});
			
		function return1(){
			$('#colorDiv').html(removeVal);
			// 데이터는 남아있으나 이벤트는 제거된 상태
		}
		
		function return2(){
			$('#colorDiv2').html(detachVal);
			// 데이터와 이벤트 모두 유지(화면에서 제거했다가 추후 재삽입할 경우 사용 가능)
		}
		
		function return3(){
			$('#colorDiv3').html(emptyVal);
			// 데이터로 유지하지 않고 리턴만 함
		}		
	</script>
	
	<h3>객체 조작 테스트</h3>
	<div id="nemo">
		<button class="boksa">복사</button>
		<button class="sakje">삭제</button>
	</div>
	<div id="content"></div>
	<script>
	//	$(function(){
			// 복사 버튼을 누르면 div content에 똑같은 div가 복사되어 붙여짐
			// 삭제를 누르면 해당 div는 삭제됨
		//	$('.boksa').click(function(){
		//		$(this).parent().clone(true).appendTo($('#content'));
		//	});
			
		//	$('.sakje').click(function(){
		//		$(this).parent().remove();
		//	});
		//	
	//	});
	
	
		$(document).on('click', '.boksa', function(){
			$(this).parent().clone().appendTo($('#content'));
		}).on('click','.sakje', function(){
			$(this).parent().remove();
		});
	
		</script>
</body>
</html>